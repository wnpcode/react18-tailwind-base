import{u as We,U as Ue,r as Be,d as He,a as qe,b as Ke}from"./index.98d46653.js";import{p as g,r as O,M as Ge,u as Je,o as Qe,c as N,F as Xe,j as v,d as P,f as ce,O as Ye,k as Te,m as Pe,a as Ie}from"./vendor.9e149c67.js";import{b as Ze,r as et}from"./Group 3220.57bd6ace.js";const tt="/assets/Layer_1.e50a3eda.svg";function De(r,l){if(!(r instanceof l))throw new TypeError("Cannot call a class as a function")}function xe(r,l){for(var c=0;c<l.length;c++){var o=l[c];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}function Ce(r,l,c){return l&&xe(r.prototype,l),c&&xe(r,c),r}function _e(r,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(l&&l.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),l&&pe(r,l)}function te(r){return te=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},te(r)}function pe(r,l){return pe=Object.setPrototypeOf||function(o,t){return o.__proto__=t,o},pe(r,l)}function rt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function nt(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function at(r,l){return l&&(typeof l=="object"||typeof l=="function")?l:nt(r)}function Ne(r){var l=rt();return function(){var o=te(r),t;if(l){var h=te(this).constructor;t=Reflect.construct(o,arguments,h)}else t=o.apply(this,arguments);return at(this,t)}}function ot(r){return st(r)||it(r)||ut(r)||lt()}function st(r){if(Array.isArray(r))return fe(r)}function it(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function ut(r,l){if(!!r){if(typeof r=="string")return fe(r,l);var c=Object.prototype.toString.call(r).slice(8,-1);if(c==="Object"&&r.constructor&&(c=r.constructor.name),c==="Map"||c==="Set")return Array.from(r);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return fe(r,l)}}function fe(r,l){(l==null||l>r.length)&&(l=r.length);for(var c=0,o=new Array(l);c<l;c++)o[c]=r[c];return o}function lt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,c=String(r);if(l===0)return c;var o=c.match(/(.*?)([0-9]+)(.*)/),t=o?o[1]:"",h=o?o[3]:"",d=o?o[2]:c,y=d.length>=l?d:(ot(Array(l)).map(function(){return"0"}).join("")+d).slice(l*-1);return"".concat(t).concat(y).concat(h)}var Ee={daysInHours:!1,zeroPadTime:2};function ct(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=l.now,o=c===void 0?Date.now:c,t=l.precision,h=t===void 0?0:t,d=l.controlled,y=l.offsetTime,b=y===void 0?0:y,C=l.overtime,I;typeof r=="string"?I=new Date(r).getTime():r instanceof Date?I=r.getTime():I=r,d||(I+=b);var D=d?I:I-o(),x=Math.min(20,Math.max(0,h)),E=Math.round(parseFloat(((C?D:Math.max(0,D))/1e3).toFixed(x))*1e3),_=Math.abs(E)/1e3;return{total:E,days:Math.floor(_/(3600*24)),hours:Math.floor(_/3600%24),minutes:Math.floor(_/60%60),seconds:Math.floor(_%60),milliseconds:Number((_%1*1e3).toFixed()),completed:E<=0}}function pt(r,l){var c=r.days,o=r.hours,t=r.minutes,h=r.seconds,d=Object.assign(Object.assign({},Ee),l),y=d.daysInHours,b=d.zeroPadTime,C=d.zeroPadDays,I=C===void 0?b:C,D=Math.min(2,b),x=y?J(o+c*24,b):J(o,D);return{days:y?"":J(c,I),hours:x,minutes:J(t,D),seconds:J(h,D)}}var Ae=function(r){_e(c,r);var l=Ne(c);function c(){var o;return De(this,c),o=l.apply(this,arguments),o.state={count:o.props.count||3},o.startCountdown=function(){o.interval=window.setInterval(function(){var t=o.state.count-1;t===0?(o.stopCountdown(),o.props.onComplete&&o.props.onComplete()):o.setState(function(h){return{count:h.count-1}})},1e3)},o.stopCountdown=function(){clearInterval(o.interval)},o.addTime=function(t){o.stopCountdown(),o.setState(function(h){return{count:h.count+t}},o.startCountdown)},o}return Ce(c,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?O.exports.cloneElement(this.props.children,{count:this.state.count}):null}}]),c}(O.exports.Component);Ae.propTypes={count:g.exports.number,children:g.exports.element,onComplete:g.exports.func};var de=function(r){_e(c,r);var l=Ne(c);function c(o){var t;if(De(this,c),t=l.call(this,o),t.mounted=!1,t.initialTimestamp=t.calcOffsetStartTimestamp(),t.offsetStartTimestamp=t.props.autoStart?0:t.initialTimestamp,t.offsetTime=0,t.legacyMode=!1,t.legacyCountdownRef=O.exports.createRef(),t.tick=function(){var d=t.calcTimeDelta(),y=d.completed&&!t.props.overtime?void 0:t.props.onTick;t.setTimeDeltaState(d,void 0,y)},t.start=function(){if(!t.isStarted()){var d=t.offsetStartTimestamp;t.offsetStartTimestamp=0,t.offsetTime+=d?t.calcOffsetStartTimestamp()-d:0;var y=t.calcTimeDelta();t.setTimeDeltaState(y,"STARTED",t.props.onStart),!t.props.controlled&&(!y.completed||t.props.overtime)&&(t.clearTimer(),t.interval=window.setInterval(t.tick,t.props.intervalDelay))}},t.pause=function(){t.isPaused()||(t.clearTimer(),t.offsetStartTimestamp=t.calcOffsetStartTimestamp(),t.setTimeDeltaState(t.state.timeDelta,"PAUSED",t.props.onPause))},t.stop=function(){t.isStopped()||(t.clearTimer(),t.offsetStartTimestamp=t.calcOffsetStartTimestamp(),t.offsetTime=t.offsetStartTimestamp-t.initialTimestamp,t.setTimeDeltaState(t.calcTimeDelta(),"STOPPED",t.props.onStop))},t.isStarted=function(){return t.isStatus("STARTED")},t.isPaused=function(){return t.isStatus("PAUSED")},t.isStopped=function(){return t.isStatus("STOPPED")},t.isCompleted=function(){return t.isStatus("COMPLETED")},o.date){var h=t.calcTimeDelta();t.state={timeDelta:h,status:h.completed?"COMPLETED":"STOPPED"}}else t.legacyMode=!0;return t}return Ce(c,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(t){this.legacyMode||this.props.date!==t.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var t=this.props,h=t.date,d=t.now,y=t.precision,b=t.controlled,C=t.overtime;return ct(h,{now:d,precision:y,controlled:b,offsetTime:this.offsetTime,overtime:C})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(t){this.legacyCountdownRef.current.addTime(t)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(t){return this.state.status===t}},{key:"setTimeDeltaState",value:function(t,h,d){var y=this;if(!!this.mounted){var b=t.completed&&!this.state.timeDelta.completed,C=t.completed&&h==="STARTED";b&&!this.props.overtime&&this.clearTimer();var I=function(){d&&d(y.state.timeDelta),y.props.onComplete&&(b||C)&&y.props.onComplete(t,C)};return this.setState(function(D){var x=h||D.status;return t.completed&&!y.props.overtime?x="COMPLETED":!h&&x==="COMPLETED"&&(x="STOPPED"),{timeDelta:t,status:x}},I)}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var t=this.props,h=t.daysInHours,d=t.zeroPadTime,y=t.zeroPadDays,b=this.state.timeDelta;return Object.assign(Object.assign({},b),{api:this.getApi(),props:this.props,formatted:pt(b,{daysInHours:h,zeroPadTime:d,zeroPadDays:y})})}},{key:"render",value:function(){if(this.legacyMode){var t=this.props,h=t.count,d=t.children,y=t.onComplete;return O.exports.createElement(Ae,{ref:this.legacyCountdownRef,count:h,onComplete:y},d)}var b=this.props,C=b.className,I=b.overtime,D=b.children,x=b.renderer,E=this.getRenderProps();if(x)return x(E);if(D&&this.state.timeDelta.completed&&!I)return O.exports.cloneElement(D,{countdown:E});var _=E.formatted,S=_.days,K=_.hours,V=_.minutes,w=_.seconds;return O.exports.createElement("span",{className:C},E.total<0?"-":"",S,S?":":"",K,":",V,":",w)}}]),c}(O.exports.Component);de.defaultProps=Object.assign(Object.assign({},Ee),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0});de.propTypes={date:g.exports.oneOfType([g.exports.instanceOf(Date),g.exports.string,g.exports.number]),daysInHours:g.exports.bool,zeroPadTime:g.exports.number,zeroPadDays:g.exports.number,controlled:g.exports.bool,intervalDelay:g.exports.number,precision:g.exports.number,autoStart:g.exports.bool,overtime:g.exports.bool,className:g.exports.string,children:g.exports.element,renderer:g.exports.func,now:g.exports.func,onMount:g.exports.func,onStart:g.exports.func,onPause:g.exports.func,onStop:g.exports.func,onTick:g.exports.func,onComplete:g.exports.func};var ke={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=t(O.exports),c=["placeholder","separator","isLastChild","ariaLabelOverride","shouldRender","inputStyle","focus","isDisabled","hasErrored","errorStyle","isSuccessed","successStyle","focusStyle","disabledStyle","shouldAutoFocus","isInputNum","index","value","className","isInputSecure","onSubmit"];function o(a){if(typeof WeakMap!="function")return null;var i=new WeakMap,f=new WeakMap;return(o=function(s){return s?f:i})(a)}function t(a,i){if(!i&&a&&a.__esModule)return a;if(a===null||H(a)!=="object"&&typeof a!="function")return{default:a};var f=o(i);if(f&&f.has(a))return f.get(a);var e={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in a)if(u!=="default"&&Object.prototype.hasOwnProperty.call(a,u)){var m=s?Object.getOwnPropertyDescriptor(a,u):null;m&&(m.get||m.set)?Object.defineProperty(e,u,m):e[u]=a[u]}return e.default=a,f&&f.set(a,e),e}function h(){return h=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var f=arguments[i];for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(a[e]=f[e])}return a},h.apply(this,arguments)}function d(a,i){if(a==null)return{};var f=y(a,i),e,s;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(s=0;s<u.length;s++)e=u[s],!(i.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,e)||(f[e]=a[e]))}return f}function y(a,i){if(a==null)return{};var f={},e=Object.keys(a),s,u;for(u=0;u<e.length;u++)s=e[u],!(i.indexOf(s)>=0)&&(f[s]=a[s]);return f}function b(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function C(a,i){for(var f=0;f<i.length;f++){var e=i[f];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(a,e.key,e)}}function I(a,i,f){return i&&C(a.prototype,i),f&&C(a,f),Object.defineProperty(a,"prototype",{writable:!1}),a}function D(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),i&&x(a,i)}function x(a,i){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},x(a,i)}function E(a){var i=K();return function(){var e=V(a),s;if(i){var u=V(this).constructor;s=Reflect.construct(e,arguments,u)}else s=e.apply(this,arguments);return _(this,s)}}function _(a,i){if(i&&(H(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(a)}function S(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function K(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function V(a){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)},V(a)}function w(a,i,f){return i in a?Object.defineProperty(a,i,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[i]=f,a}function H(a){return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},H(a)}var Q=8,re=37,L=39,X=46,U=32,Y=13,F=function(i){return H(i)==="object"},me=function(a){D(f,a);var i=E(f);function f(e){var s;return b(this,f),s=i.call(this,e),w(S(s),"getClasses",function(){for(var u=arguments.length,m=new Array(u),n=0;n<u;n++)m[n]=arguments[n];return m.filter(function(p){return!F(p)&&p!==!1}).join(" ")}),w(S(s),"getType",function(){var u=s.props,m=u.isInputSecure,n=u.isInputNum;return m?"password":n?"tel":"text"}),w(S(s),"getAriaLabel",function(u,m){var n=s.props.ariaLabelOverride;return n||"".concat(u===0?"Please enter verification code. ":"").concat(m?"Digit":"Character"," ").concat(u+1)}),s.input=l.default.createRef(),s}return I(f,[{key:"componentDidMount",value:function(){var s=this.props,u=s.focus,m=s.shouldAutoFocus,n=this.input.current;n&&u&&m&&n.focus()}},{key:"componentDidUpdate",value:function(s){var u=this.props.focus,m=this.input.current;s.focus!==u&&m&&u&&(m.focus(),m.select())}},{key:"render",value:function(){var s=this.props,u=s.placeholder,m=s.separator,n=s.isLastChild;s.ariaLabelOverride;var p=s.shouldRender,T=s.inputStyle,R=s.focus,$=s.isDisabled,j=s.hasErrored,A=s.errorStyle,M=s.isSuccessed,W=s.successStyle,B=s.focusStyle,z=s.disabledStyle;s.shouldAutoFocus;var ne=s.isInputNum,ae=s.index,ee=s.value,oe=s.className;s.isInputSecure,s.onSubmit;var se=d(s,c);return l.default.createElement("div",{className:oe,style:{display:"flex",alignItems:"center"}},l.default.createElement("input",h({"aria-label":this.getAriaLabel(ae,ne),style:Object.assign({width:"1em",textAlign:"center",padding:0},F(T)&&T,R&&F(B)&&B,$&&F(z)&&z,j&&!M&&F(A)&&A,M&&!j&&F(W)&&W),placeholder:u,className:this.getClasses(T,R&&B,$&&z,j&&!M&&A,M&&!j&&W),type:this.getType(),ref:this.input,disabled:$,value:ee||""},se)),!n&&p&&m)}}]),f}(l.PureComponent),q=function(a){D(f,a);var i=E(f);function f(){var e;b(this,f);for(var s=arguments.length,u=new Array(s),m=0;m<s;m++)u[m]=arguments[m];return e=i.call.apply(i,[this].concat(u)),w(S(e),"state",{activeInput:0}),w(S(e),"getOtpValue",function(){return e.props.value?e.props.value.toString().split(""):[]}),w(S(e),"getPlaceholderValue",function(){var n=e.props,p=n.placeholder,T=n.numInputs;if(typeof p=="string"){if(p.length===T)return p;p.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}}),w(S(e),"handleOtpChange",function(n){var p=e.props.onChange,T=n.join("");p(T)}),w(S(e),"isInputValueValid",function(n){var p=e.props.isInputNum?!isNaN(parseInt(n,10)):typeof n=="string";return p&&n.trim().length===1}),w(S(e),"focusInput",function(n){var p=e.props.numInputs,T=Math.max(Math.min(p-1,n),0);e.setState({activeInput:T})}),w(S(e),"focusNextInput",function(){var n=e.state.activeInput;e.focusInput(n+1)}),w(S(e),"focusPrevInput",function(){var n=e.state.activeInput;e.focusInput(n-1)}),w(S(e),"changeCodeAtFocus",function(n){var p=e.state.activeInput,T=e.getOtpValue();T[p]=n[0],e.handleOtpChange(T)}),w(S(e),"handleOnPaste",function(n){n.preventDefault();var p=e.state.activeInput,T=e.props,R=T.numInputs,$=T.isDisabled;if(!$){for(var j=e.getOtpValue(),A=p,M=n.clipboardData.getData("text/plain"),W=e.props.isInputNum?M.replace(/\D/g,""):M,B=W.slice(0,R-p).split(""),z=0;z<R;++z)z>=p&&B.length>0&&(j[z]=B.shift(),A++);e.setState({activeInput:A},function(){e.focusInput(A),e.handleOtpChange(j)})}}),w(S(e),"handleOnChange",function(n){var p=n.target.value;e.isInputValueValid(p)&&e.changeCodeAtFocus(p)}),w(S(e),"handleOnKeyDown",function(n){n.keyCode===Q||n.key==="Backspace"?(n.preventDefault(),e.changeCodeAtFocus(""),e.focusInput(e.state.activeInput-1)):n.keyCode===X||n.key==="Delete"?(n.preventDefault(),e.changeCodeAtFocus("")):n.keyCode===re||n.key==="ArrowLeft"?(n.preventDefault(),e.focusPrevInput()):n.keyCode===L||n.key==="ArrowRight"?(n.preventDefault(),e.focusNextInput()):n.keyCode===U||n.key===" "||n.key==="Spacebar"||n.key==="Space"?n.preventDefault():(n.keyCode===Y||n.key==="Enter")&&e.props.onSubmit()}),w(S(e),"handleOnInput",function(n){var p=n.target.value;if(!!n.target.value){if(n.target.value&&n.target.value.length>1){n.preventDefault();for(var T=e.props.numInputs,R=e.state.activeInput,$=e.getOtpValue(),j=n.target.value.slice(0,T-R).split(""),A=0;A<T;++A)A>=R&&j.length>0&&($[A]=j.shift());e.handleOtpChange($),e.focusInput(e.props.numInputs)}else if(p&&p.trim().length>1)n.clipboardData={getData:function(){return p.trim()}},e.handleOnPaste(n);else if(e.isInputValueValid(n.target.value))e.focusNextInput();else if(!e.props.isInputNum){var M=n.nativeEvent;M.data===null&&M.inputType==="deleteContentBackward"&&(n.preventDefault(),e.changeCodeAtFocus(""),e.focusPrevInput())}}}),w(S(e),"renderInputs",function(){for(var n=e.state.activeInput,p=e.props,T=p.id,R=p.autoComplete,$=p.numInputs,j=p.inputStyle,A=p.focusStyle,M=p.separator,W=p.separateAfter,B=W===void 0?1:W,z=p.isDisabled,ne=p.disabledStyle,ae=p.hasErrored,ee=p.errorStyle,oe=p.isSuccessed,se=p.successStyle,Re=p.shouldAutoFocus,je=p.isInputNum,Me=p.isInputSecure,Le=p.className,G=p.inputProps,Fe=p.onSubmit,he=[],ve=e.getOtpValue(),ye=e.getPlaceholderValue(),ge=e.props["data-cy"],Se=e.props["data-testid"],be=e.props["custom-test-attr"],we=e.props["custom-test-id"],$e=function(k){var ue=void 0;(k+1)%parseInt(B)===0?ue=!0:ue=!1;var Oe={};be&&(Oe[be]=we&&"".concat(we,"-").concat(k));var le={};G&&(Array.isArray(G)?G[k]&&(le=G[k]):le=G),he.push(l.default.createElement(me,h({id:T&&"".concat(T,"-").concat(k),autoComplete:R!=null?R:"off",placeholder:ye&&ye[k],key:k,index:k,focus:n===k,value:ve&&ve[k],onChange:e.handleOnChange,onKeyDown:e.handleOnKeyDown,onInput:e.handleOnInput,onPaste:e.handleOnPaste,onFocus:function(Ve){e.setState({activeInput:k}),Ve.target.select()},onBlur:function(){return e.setState({activeInput:-1})},separator:M,inputStyle:j,focusStyle:A,isLastChild:k===$-1,isDisabled:z,disabledStyle:ne,hasErrored:ae,errorStyle:ee,isSuccessed:oe,successStyle:se,shouldAutoFocus:Re,isInputNum:je,isInputSecure:Me,className:Le,"data-cy":ge&&"".concat(ge,"-").concat(k),"data-testid":Se&&"".concat(Se,"-").concat(k),shouldRender:ue,onSubmit:Fe},le,Oe)))},ie=0;ie<$;ie++)$e(ie);return he}),e}return I(f,[{key:"componentDidUpdate",value:function(){var s=this.props.value,u=this.state.activeInput;s==""&&u>0&&this.setState({activeInput:0})}},{key:"render",value:function(){var s=this.props.containerStyle;return l.default.createElement("div",{style:Object.assign({display:"flex"},F(s)&&s),className:F(s)?"":s},this.renderInputs())}}]),f}(l.Component);w(q,"defaultProps",{numInputs:4,onChange:function(i){return console.log(i)},isDisabled:!1,shouldAutoFocus:!1,value:"",isInputSecure:!1,onSubmit:function(i){return console.log(i)}});var Z=q;r.default=Z})(ke);const ft=Ge(ke);function yt(){We();const{t:r,i18n:l}=Je(),c=O.exports.useContext(Ue),o=Qe(),[t,h]=O.exports.useState(""),[d,y]=O.exports.useState(""),[b,C]=O.exports.useState(""),[I,D]=O.exports.useState(!0),[x,E]=O.exports.useState(!1),[_,S]=O.exports.useState(!1),[K,V]=O.exports.useState(!1),[w,H]=O.exports.useState(""),[Q,re]=O.exports.useState(Date.now()+3e5),[L,X]=O.exports.useState({password:"",reEnterPassword:""}),[U,Y]=O.exports.useState({password:!1,reEnterPassword:!1});O.exports.useState({password:!1,reEnterPassword:!1});const[F,me]=O.exports.useState({password:"",reEnterPassword:""}),q=u=>{switch(D(!1),E(!1),S(!1),u){case"reset":D(!0);break;case"verify":E(!0);break;case"change":S(!0);break}},Z=async()=>{if(!!t){c.setLoading(!0);try{let u=await Be({username:t});c.setLoading(!1),Ie.success(r("otp sent")),C(u.data.userId),q("verify"),re(Date.now()+3e5)}catch{}finally{c.setLoading(!1)}}},a=async()=>{c.setLoading(!0);try{let u=await He({id:b,otp:d});c.setLoading(!1),H(u.data.token),q("change"),Ie.success("successfully verify")}catch{}finally{c.setLoading(!1)}},i=()=>v(P.Typography,{className:"cursor-pointer text-base font-medium text-purple-500",onClick:()=>{Z()},children:"Kirim OTP kembali"}),f=({hours:u,minutes:m,seconds:n,completed:p})=>p?v(i,{}):N(P.Typography,{className:"cursor-pointer text-base font-thin text-purple-500",children:[m<10?`0${m}`:m,":",n<10?`0${n}`:n]}),e=async()=>{try{c.setLoading(!0);let u=await qe(`${Ke.auth.changePassword}`,L,w);V(!0),c.setLoading(!1)}catch{}finally{c.setLoading(!1)}},s=()=>{I&&o("/auth/sign-in"),x&&q("reset"),_&&q("verify")};return N(Xe,{children:[N("div",{className:"h-screen w-full bg-gray-200",children:[v("div",{className:"flex h-full w-full items-center  justify-center object-center lg:w-1/2 ",children:N(P.Card,{className:"z-30 flex h-auto min-h-[250px] w-[calc(100vw-100px)] justify-between shadow-2xl md:w-1/2",children:[N(P.CardBody,{className:"relative flex grow flex-col justify-between gap-4",children:[v(ce,{icon:Ye,className:"absolute cursor-pointer select-none",onClick:s}),v("div",{className:"flex max-h-28 flex-row items-center justify-center gap-1 overflow-y-hidden text-lg font-semibold",children:r("forgot password")}),I&&N("div",{children:[v(P.Typography,{className:"required mb-0",variant:"h6",children:r("username")}),v(P.Input,{type:"email",className:"login-input w-full",size:"lg",value:t,onChange:u=>h(u.target.value)})]}),x&&N("div",{children:[v(ft,{id:"otp",value:d,onChange:u=>{y(u)},numInputs:6,containerStyle:"flex md:gap-4 w-full justify-around",inputStyle:"otp-small md:otp-big "}),v("div",{className:"mt-2 text-center",children:v(de,{date:Q,renderer:f},Q)})]}),_&&N("div",{children:[N("div",{children:[v("h3",{className:"required select-none text-left font-medium",children:"Password"}),N("div",{className:"relative",children:[v(P.Input,{className:"pr-8",type:U.password?"text":"password",value:L.password,onChange:u=>X(m=>({...m,password:u.target.value}))}),v(ce,{className:"absolute right-2 top-1/2 -translate-y-1/2 ",onClick:()=>Y(u=>({...u,password:!U.password})),icon:U.password?Pe:Te})]}),v(P.Typography,{className:"text-left text-xs font-normal text-red-500/70",children:F.password})]}),N("div",{children:[v("h3",{className:"required select-none text-left font-medium",children:"Re-enter Password"}),N("div",{className:"relative",children:[v(P.Input,{className:"pr-8",type:U.reEnterPassword?"text":"password",value:L.reEnterPassword,onChange:u=>X(m=>({...m,reEnterPassword:u.target.value}))}),v(ce,{className:"absolute right-2 top-1/2 -translate-y-1/2 ",onClick:()=>Y(u=>({...u,reEnterPassword:!U.reEnterPassword})),icon:U.reEnterPassword?Pe:Te})]}),v(P.Typography,{className:"text-left text-xs font-normal text-red-500/70",children:F.reEnterPassword})]})]})]}),N(P.CardFooter,{className:"pt-0",children:[I&&v(P.Button,{className:`${!t&&"cursor-wait"}`,disabled:!t,color:"purple",variant:"gradient",fullWidth:!0,onClick:()=>{Z()},children:r("send otp")}),x&&v(P.Button,{className:`${!d&&"cursor-wait"}`,disabled:!d,color:"purple",variant:"gradient",fullWidth:!0,onClick:()=>{a()},children:r("verify otp")}),_&&v(P.Button,{className:`${!L.password||!L.reEnterPassword&&"cursor-wait"}`,disabled:!L.password||!L.reEnterPassword||L.password!==L.reEnterPassword,color:"purple",variant:"gradient",fullWidth:!0,onClick:()=>{e()},children:r("change password")})]})]})}),N("div",{className:"login-container w-1/2",children:[v("img",{src:tt,className:"absolute bottom-0 right-0 z-20  h-auto w-auto object-cover"}),v("img",{src:Ze,className:"absolute bottom-0 right-0 h-auto w-auto object-cover"}),v("img",{src:et,className:"absolute bottom-0 right-0 z-10 h-auto w-auto object-cover"})]})]}),N(P.Dialog,{size:"md",dismiss:{enabled:!1},handler:()=>V(!1),open:K,children:[v(P.DialogHeader,{children:r("change succesfully")}),v(P.DialogBody,{className:"flex justify-center",children:v("div",{className:"w-full text-center",children:v(P.Typography,{variant:"h6",children:r("change succesfully message")})})}),v(P.DialogFooter,{className:"gap-1",children:v(P.Button,{className:"bg-purple-500",onClick:()=>o("/auth/sign-in"),children:r("close")})})]})]})}export{yt as ForgotPassword,yt as default};
